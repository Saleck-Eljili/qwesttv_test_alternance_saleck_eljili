{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LJILI\\\\Desktop\\\\QwestTV_Test_Alternance\\\\2\\xE8me_phase_ReactJS\\\\src\\\\EditPerson.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditPerson = () => {\n  _s();\n\n  let history = useHistory(); //The useHistory hook gives you access to the history instance that you may use to navigate.\n\n  const {\n    id\n  } = useParams(); //The useParams() hook helps us to access the URL parameters from a current route. \n\n  const [user, setUser] = useState({\n    fname: \"\",\n    lname: \"\",\n    address: \"\",\n    isActive: \"\"\n  });\n  const {\n    fname,\n    lname,\n    address,\n    isActive\n  } = user;\n\n  const onInputChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  useEffect(() => {\n    const loadUser = () => {\n      fetch(`http://localhost:5000/api/v1/person/${id}`, {\n        method: \"GET\"\n      }).then(response => response.json()).then(result => {\n        console.log(result);\n        setUser({\n          id: id,\n          update: true,\n          fname: result.response[0].first_name,\n          lname: result.response[0].last_name,\n          address: result.response[0].address,\n          isActive: result.response[0].isActive\n        });\n      }).catch(error => console.log(\"error\", error));\n    };\n  }, []);\n\n  const updatePerson = async e => {\n    e.preventDefault();\n    await axios.put(`http://localhost:5000/api/v1/person/${id}`, user);\n    history.push(\"/\");\n  };\n\n  const loadUser = () => {\n    fetch(`http://localhost:5000/api/v1/person/${id}`, {\n      method: \"GET\"\n    }).then(response => response.json()).then(result => {\n      console.log(result);\n      setUser({\n        id: id,\n        update: true,\n        fname: result.response[0].first_name,\n        lname: result.response[0].last_name,\n        address: result.response[0].address,\n        isActive: result.response[0].isActive\n      });\n    }).catch(error => console.log(\"error\", error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-5 col-offset-3 mx-auto shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center mb-4\",\n          children: \"Edit A person\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"text-success\",\n          children: [\"Person ID : \", user.id, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control form-control-lg\",\n            placeholder: \"Enter Person Name\",\n            name: \"fname\",\n            value: fname,\n            onChange: e => onInputChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control form-control-lg\",\n            placeholder: \"Enter Person Surname\",\n            name: \"lname\",\n            value: lname,\n            onChange: e => onInputChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control form-control-lg\",\n            placeholder: \"Enter Person Adresse\",\n            name: \"address\",\n            value: address,\n            onChange: e => onInputChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control form-control-lg\",\n            placeholder: \"is Active\",\n            name: \"isActive\",\n            value: isActive,\n            onChange: e => onInputChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: updatePerson,\n          className: \"btn btn-secondary btn-block\",\n          children: \"Update Person\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditPerson, \"8nlZp1fUYvTZ4kUB0MQBpGtGhKM=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = EditPerson;\nexport default EditPerson;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPerson\");","map":{"version":3,"sources":["C:/Users/LJILI/Desktop/QwestTV_Test_Alternance/2Ã¨me_phase_ReactJS/src/EditPerson.js"],"names":["React","useState","useEffect","axios","useHistory","useParams","EditPerson","history","id","user","setUser","fname","lname","address","isActive","onInputChange","e","target","name","value","loadUser","fetch","method","then","response","json","result","console","log","update","first_name","last_name","catch","error","updatePerson","preventDefault","put","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nconst EditPerson = () => {\r\n  \r\n  let history = useHistory(); //The useHistory hook gives you access to the history instance that you may use to navigate.\r\n  const { id } = useParams();  //The useParams() hook helps us to access the URL parameters from a current route. \r\n \r\n\r\n  const [user ,setUser] = useState({\r\n      fname:\"\",\r\n      lname:\"\",\r\n      address:\"\",\r\n      isActive:\"\"\r\n  })\r\n\r\n\r\n  const { fname, lname, address, isActive } = user;\r\n\r\n  const onInputChange = e => {\r\n    setUser({ ...user,[e.target.name]: e.target.value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadUser =  () => {\r\n      fetch(`http://localhost:5000/api/v1/person/${id}`,{\r\n        method: \"GET\",\r\n        })\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          console.log(result);\r\n          setUser({\r\n            id: id,\r\n            update: true,\r\n            fname: result.response[0].first_name,\r\n            lname: result.response[0].last_name,\r\n            address: result.response[0].address,\r\n            isActive: result.response[0].isActive,\r\n            \r\n  \r\n          });\r\n        })\r\n        .catch((error) => console.log(\"error\", error));\r\n    };\r\n    \r\n  }, []);\r\n\r\n  \r\n  const updatePerson = async e => {\r\n    e.preventDefault();\r\n    await axios.put(`http://localhost:5000/api/v1/person/${id}`, user);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const loadUser =  () => {\r\n    fetch(`http://localhost:5000/api/v1/person/${id}`,{\r\n\t\t\tmethod: \"GET\",\r\n\t\t  })\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((result) => {\r\n\t\t\t\tconsole.log(result);\r\n        setUser({\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tupdate: true,\r\n\t\t\t\t\tfname: result.response[0].first_name,\r\n          lname: result.response[0].last_name,\r\n          address: result.response[0].address,\r\n          isActive: result.response[0].isActive,\r\n          \r\n\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n     <div className=\"row mt-4\"> \r\n      <div className=\"col-sm-5 col-offset-3 mx-auto shadow p-5\">\r\n        <h4 className=\"text-center mb-4\">Edit A person</h4>\r\n      \r\n          <h5 className=\"text-success\">Person ID : {user.id} </h5>\r\n          <div className=\"form-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter Person Name\"\r\n              name=\"fname\"\r\n              value={fname}\r\n              onChange={e => onInputChange(e)}\r\n            />\r\n          </div>\r\n          <div className=\"form-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter Person Surname\"\r\n              name=\"lname\"\r\n              value={lname}\r\n              onChange={e => onInputChange(e)}\r\n            />\r\n          </div>\r\n          <div className=\"form-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter Person Adresse\"\r\n              name=\"address\"\r\n              value={address}\r\n              onChange={e => onInputChange(e)}\r\n            />\r\n          </div>\r\n          <div className=\"form-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control form-control-lg\"\r\n              placeholder=\"is Active\"\r\n              name=\"isActive\"\r\n              value={isActive}\r\n              onChange={e => onInputChange(e)}\r\n            />\r\n          </div>\r\n\r\n          <button onClick={updatePerson} className=\"btn btn-secondary btn-block\">Update Person</button>\r\n      \r\n       </div>\r\n      </div> \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditPerson;\r\n"]},"metadata":{},"sourceType":"module"}